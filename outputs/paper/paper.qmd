---
title: "My title"
subtitle: "My subtitle if needed"
author: 
  - Sakura Ariga
  - Aliyah Maxine Ramos
  - Annie Yan
thanks: "Code and data are available at: LINK."
date: "`r Sys.time()`"
date-format: "D MMMM YYYY"
abstract: "First sentence. Second sentence. Third sentence. Fourth sentence."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false
# Set up workspace 

install.packages("kableExtra")
install.packages("tidyverse")
install.packages("lessR")
install.packages("tidyr")
install.packages("reshape2")
install.packages("knitr")
install.packages("haven")
install.packages("vtable")

library(kableExtra)
library(tidyverse)
library(lessR)
library(tidyr)
library(reshape2)
library(knitr)
library(haven)
library(vtable)
```

```{r}
#| include: false
# Import cleaned data from the outputs folder, originally imported via the 01-download_data.R file
cleaned_2016gss_data <- read.csv(here::here("outputs/data/cleaned_2016gss_data.csv"))
```

# 1 Introduction

You can and should cross-reference sections and sub-sections. For instance, @sec-data and @sec-first-point.

# 2 Data {#sec-data}

```{r}
# Summary statistics of our GSS data 
summ_gss <- cleaned_2016gss_data %>% 
  select(age, sex, race, income, rincome, 
         degree, childs, marital,
         happy, wwwhr)
sumtable(cleaned_2016gss_data,  title = 'Summary Statistics of Our Variables', out = 'kable')
## the final line doesn't work for some reason and i'm mad
```

## 2.1 Survey

## 2.2 Questionnaire

# 3 Results

```{r}
#| label: fig-maritalandinternet
#| fig-cap: Weekly Total of Internet Use by Marital Status
#| echo: false
## Graph Marital Status VS. Internet Hours ##
mean_marital<- cleaned_2016gss_data %>%
  select(marital,wwwhr) %>%
  group_by(marital)%>%
  summarise(Mean_total = mean(wwwhr , na.rm=TRUE) )%>%
  pivot_wider(names_from = "marital", values_from = c("Mean_total"))

## mutate from wide to long 
mean_marital <- melt(mean_marital)  #the function melt reshapes it from wide to long
mean_marital <- mean_marital[-6,]  # delete NA row

# use tidyverse-style code to pivot and summarise the data 
mean_marital |> ggplot(aes(x = variable, y = value)) + 
  geom_point() +
  theme(axis.text.x = element_text(angle = 45,hjust=1), 
        axis.line = element_line(colour = "black"),
        title = element_text(size = 12)) +
  labs(
    x = "Marital Status",
    y = "Internet Usage Hours"
  )
```
@fig-maritalandinternet displays the relationship between marital status and internet usage in 2016. 

```{r}
#| label: fig-happyandinternet
#| fig-cap: Weekly Total of Internet Use by Level of Happiness
#| echo: false
## Graph Level of Happiness VS. Internet Hours##
mean_happy<- cleaned_2016gss_data %>%
  select(happy,wwwhr) %>%
  group_by(happy)%>%
  summarise(Mean_total = mean(wwwhr , na.rm=TRUE) )%>%
  pivot_wider(names_from = "happy", values_from = c("Mean_total"))

## mutate from wide to long 
mean_happy <- melt(mean_happy)  #the function melt reshapes it from wide to long
mean_happy <- mean_happy[-4,]  # delete NA row

# use tidyverse-style code to pivot and summarise the data 
mean_happy |> ggplot(aes(x = variable, y = value)) + 
  geom_point() +
  theme(axis.text.x = element_text(angle = 45,hjust=1), 
        axis.line = element_line(colour = "black"),
        title = element_text(size = 12)) +
  labs(
    x = "Level of Happiness",
    y = "Internet Usage Hours"
  )
```


```{r}
#| label: fig-educandinternet
#| fig-cap: Weekly Total of Internet Use by Highest Education Obtained
#| echo: false
## Highest Education Obtained VS. Internet Hours ##
mean_edu<- cleaned_2016gss_data %>%
  select(degree, wwwhr) %>%
  group_by(degree)%>%
  summarise(Mean_total = mean(wwwhr , na.rm=TRUE) )%>%
  pivot_wider(names_from = "degree", values_from = c("Mean_total"))

## mutate from wide to long 
mean_edu <- melt(mean_edu)  #the function melt reshapes it from wide to long
mean_edu <- mean_edu[-6,]  # delete NA row

# use tidyverse-style code to pivot and summarise the data 
mean_edu |> ggplot(aes(x = variable, y = value)) + 
  geom_point() +
  theme(axis.text.x = element_text(angle = 45,hjust=1), 
        axis.line = element_line(colour = "black"),
        title = element_text(size = 12)) +
  labs(
    x = "Highest Education Obtained",
    y = "Internet Usage Hours"
  )
```


# 4 Discussion

## 4.1 First discussion point {#sec-first-point}

## 4.2 Second discussion point

## 4.3 Third discussion point

## 4.4 Weaknesses and next steps

# 5 Appendix {.unnumbered}

# 6 Additional details

# 7 References
